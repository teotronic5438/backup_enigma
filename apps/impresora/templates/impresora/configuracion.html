{% extends 'base.html' %}

{% block title %}Configuraci贸n de Impresora{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Configuraci贸n de Impresora</h2>

  {% if impresoras|length == 0 %}
      <div class="alert alert-warning">
          锔 No se encontraron impresoras instaladas en el sistema.
      </div>
  {% else %}
      <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="impresora" class="form-label">Seleccionar impresora</label>
            <select class="form-select" id="impresora" name="impresora" required>
              <option value="">-- Seleccion谩 una impresora --</option>
              {% for nombre in impresoras %}
                  <option value="{{ nombre }}" {% if nombre == actual %}selected{% endif %}>{{ nombre }}</option>
              {% endfor %}
            </select>
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">
                 Guardar configuraci贸n
            </button>

            <button type="submit" name="verificar" value="1" class="btn btn-info">
                 Verificar conexi贸n
            </button>
        </div>

      </form>
  {% endif %}

  <!-- Mensajes -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show my-4" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

</div>
{% endblock %}
